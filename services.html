<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmic Services - Constellation Reports</title>
    <meta name="description" content="Generate comprehensive spiritual reports with authentic constellation theme">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌌</text></svg>">
    
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Cinzel:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap');
        
        /* Constellation Theme Variables */
        :root {
            /* Deep Space Gradients */
            --constellation-bg: linear-gradient(135deg, #0a0a1e 0%, #1a1a3a 25%, #000011 50%, #2d1b4e 75%, #0a0a0f 100%);
            --nebula-glow: radial-gradient(circle at 30% 20%, #4338ca44, transparent 50%), 
                           radial-gradient(circle at 70% 80%, #7c3aed33, transparent 50%);
            
            /* Constellation Colors */
            --star-primary: #f8fafc;
            --star-secondary: #e2e8f0;
            --star-accent: #60a5fa;
            --constellation-line: #3b82f6;
            --cosmic-purple: #8b5cf6;
            --deep-space: #0f172a;
            --nebula-pink: #ec4899;
            --galaxy-blue: #1e40af;
            
            /* Glass Effects */
            --glass-bg: rgba(15, 23, 42, 0.3);
            --glass-border: rgba(96, 165, 250, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            
            /* Typography */
            --font-cosmic: 'Cinzel', serif;
            --font-body: 'Inter', sans-serif;
            --font-mono: 'Space Mono', monospace;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-body);
            background: var(--constellation-bg);
            color: var(--star-primary);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Constellation Background Animation */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--nebula-glow);
            opacity: 0.6;
            z-index: -2;
            animation: nebulaShift 20s ease-in-out infinite alternate;
        }
        
        /* Animated Star Field */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(2px 2px at 20px 30px, var(--star-accent), transparent),
                radial-gradient(2px 2px at 40px 70px, var(--star-primary), transparent),
                radial-gradient(1px 1px at 90px 40px, var(--cosmic-purple), transparent),
                radial-gradient(1px 1px at 130px 80px, var(--star-secondary), transparent),
                radial-gradient(2px 2px at 160px 30px, var(--nebula-pink), transparent),
                radial-gradient(1px 1px at 200px 90px, var(--galaxy-blue), transparent),
                radial-gradient(1px 1px at 240px 50px, var(--star-accent), transparent),
                radial-gradient(2px 2px at 300px 20px, var(--cosmic-purple), transparent);
            background-repeat: repeat;
            background-size: 350px 200px;
            opacity: 0.8;
            z-index: -1;
            animation: starField 30s linear infinite, starTwinkle 4s ease-in-out infinite alternate;
        }
        
        /* Constellation Glass Cards */
        .constellation-glass {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            box-shadow: var(--glass-shadow), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }
        
        .constellation-glass::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--star-accent), var(--cosmic-purple), var(--nebula-pink), var(--galaxy-blue));
            border-radius: 22px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .constellation-glass:hover::before {
            opacity: 0.3;
        }
        
        .constellation-glass:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(96, 165, 250, 0.2), var(--glass-shadow);
            border-color: var(--star-accent);
        }
        
        /* Cosmic Buttons */
        .btn-constellation {
            background: linear-gradient(135deg, var(--galaxy-blue), var(--cosmic-purple));
            border: 2px solid var(--star-accent);
            color: var(--star-primary);
            padding: 16px 32px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(30, 64, 175, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .btn-constellation::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }
        
        .btn-constellation:hover::before {
            left: 100%;
        }
        
        .btn-constellation:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(96, 165, 250, 0.6);
            border-color: var(--star-primary);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #10b981, #059669);
            border: 1px solid #10b981;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
        }
        
        /* Cosmic Form Inputs */
        .cosmic-input {
            background: rgba(15, 23, 42, 0.6);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 18px 24px;
            color: var(--star-primary);
            font-size: 16px;
            width: 100%;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .cosmic-input::placeholder {
            color: rgba(248, 250, 252, 0.6);
            font-style: italic;
        }
        
        .cosmic-input:focus {
            outline: none;
            border-color: var(--star-accent);
            box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.2), 
                        0 0 20px rgba(96, 165, 250, 0.3);
            background: rgba(15, 23, 42, 0.8);
        }
        
        .cosmic-textarea {
            background: rgba(15, 23, 42, 0.6);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 20px 24px;
            color: var(--star-primary);
            font-size: 16px;
            width: 100%;
            min-height: 120px;
            resize: vertical;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .cosmic-textarea::placeholder {
            color: rgba(248, 250, 252, 0.6);
            font-style: italic;
        }
        
        .cosmic-textarea:focus {
            outline: none;
            border-color: var(--star-accent);
            box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.2);
            background: rgba(15, 23, 42, 0.8);
        }
        
        /* Progress Bar */
        .cosmic-progress {
            width: 100%;
            height: 8px;
            background: rgba(15, 23, 42, 0.8);
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }
        
        .cosmic-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--galaxy-blue), var(--cosmic-purple), var(--star-accent));
            border-radius: 4px;
            transition: width 0.5s ease;
            position: relative;
        }
        
        .cosmic-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: progressShimmer 1.5s ease-in-out infinite;
        }
        
        /* Constellation Checkbox */
        .cosmic-checkbox {
            appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--star-accent);
            border-radius: 6px;
            background: rgba(15, 23, 42, 0.6);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .cosmic-checkbox:checked {
            background: linear-gradient(135deg, var(--galaxy-blue), var(--cosmic-purple));
            border-color: var(--star-primary);
        }
        
        .cosmic-checkbox:checked::after {
            content: '✦';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--star-primary);
            font-size: 12px;
            font-weight: bold;
        }
        
        /* Typography */
        .cosmic-title {
            font-family: var(--font-cosmic);
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 600;
            background: linear-gradient(135deg, var(--star-primary), var(--star-accent), var(--cosmic-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-align: center;
            margin-bottom: 1rem;
            position: relative;
        }
        
        .cosmic-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--star-accent), transparent);
        }
        
        .constellation-text {
            font-size: 18px;
            line-height: 1.7;
            color: rgba(248, 250, 252, 0.9);
            text-align: center;
            margin-bottom: 2rem;
        }
        
        /* Alert Messages */
        .alert-success {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.1));
            border: 2px solid #10b981;
            border-radius: 15px;
            padding: 16px 20px;
            color: #34d399;
            margin: 16px 0;
            backdrop-filter: blur(10px);
        }
        
        .alert-error {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(220, 38, 38, 0.1));
            border: 2px solid #ef4444;
            border-radius: 15px;
            padding: 16px 20px;
            color: #fca5a5;
            margin: 16px 0;
            backdrop-filter: blur(10px);
        }
        
        /* Animations */
        @keyframes nebulaShift {
            0% { transform: translateX(-10px) translateY(-5px) scale(1); }
            100% { transform: translateX(10px) translateY(5px) scale(1.05); }
        }
        
        @keyframes starField {
            0% { transform: translateX(0) translateY(0); }
            100% { transform: translateX(-100px) translateY(-50px); }
        }
        
        @keyframes starTwinkle {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        
        @keyframes progressShimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }
        
        .page-enter {
            animation: fadeInUp 0.8s ease-out;
        }
        
        .floating {
            animation: floating 6s ease-in-out infinite;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .constellation-glass {
                margin: 10px;
                padding: 20px;
            }
            
            .btn-constellation {
                width: 100%;
                margin: 10px 0;
            }
            
            .cosmic-title {
                font-size: 2.5rem;
            }
        }
        
        /* Report Content Styles */
        .report-content {
            max-height: 500px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--star-accent) transparent;
        }
        
        .report-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .report-content::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.5);
            border-radius: 4px;
        }
        
        .report-content::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--galaxy-blue), var(--cosmic-purple));
            border-radius: 4px;
        }
        
        /* Loading Spinner */
        .cosmic-loading {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(96, 165, 250, 0.3);
            border-radius: 50%;
            border-top-color: var(--star-accent);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Grid Layout */
        .cosmic-grid {
            display: grid;
            gap: 24px;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
        
        /* Navigation Improvements */
        .cosmic-nav {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-link {
            color: rgba(248, 250, 252, 0.8);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }
        
        .nav-link:hover {
            color: var(--star-accent);
            background: rgba(96, 165, 250, 0.1);
        }
    </style>
</head>

<body class="page-enter">
    <!-- Navigation -->
    <nav class="cosmic-nav">
        <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <span class="text-2xl">🌌</span>
                <h1 class="text-xl font-bold" style="font-family: var(--font-cosmic);">Cosmic Insights</h1>
            </div>
            <div class="flex items-center space-x-4">
                <a href="./" class="nav-link">
                    <i class="fas fa-arrow-left mr-2"></i>Home
                </a>
                <a href="#generator" class="nav-link">Generator</a>
                <a href="#features" class="nav-link">Features</a>
            </div>
        </div>
    </nav>

    <div class="min-h-screen py-12 px-4">
        <!-- Hero Section -->
        <div class="max-w-6xl mx-auto mb-16 text-center">
            <h1 class="cosmic-title floating">
                🌟 Constellation Reports
            </h1>
            <p class="constellation-text">
                Harness the power of the cosmos to generate comprehensive spiritual reports.
                <br>Let the stars guide your journey through personalized insights.
            </p>
        </div>
        
        <!-- Main Content -->
        <div class="max-w-7xl mx-auto">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Report Generator -->
                <div class="constellation-glass p-8 floating" id="generator">
                    <h2 class="text-2xl font-semibold mb-6 flex items-center" style="font-family: var(--font-cosmic);">
                        <i class="fas fa-magic mr-3 text-purple-400"></i>
                        Cosmic Report Generator
                    </h2>
                    
                    <form id="cosmic-report-form" class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">✨ Your Full Name</label>
                            <input type="text" id="report-name" placeholder="Enter your cosmic name..." class="cosmic-input" required>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">🌙 Birth Date</label>
                            <input type="date" id="report-birth-date" class="cosmic-input" required>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">⏰ Birth Time (Optional)</label>
                            <input type="time" id="report-birth-time" class="cosmic-input">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">🌍 Birth Place</label>
                            <input type="text" id="report-birth-place" placeholder="City, Country..." class="cosmic-input" required>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-3 text-gray-300">🔮 Select Your Cosmic Insights</label>
                            <div class="grid grid-cols-2 gap-4">
                                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-white/5 transition-colors">
                                    <input type="checkbox" id="include-astrology" checked class="cosmic-checkbox">
                                    <span class="text-sm">⭐ Astrology Analysis</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-white/5 transition-colors">
                                    <input type="checkbox" id="include-numerology" checked class="cosmic-checkbox">
                                    <span class="text-sm">🔢 Numerology Profile</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-white/5 transition-colors">
                                    <input type="checkbox" id="include-compatibility" class="cosmic-checkbox">
                                    <span class="text-sm">💕 Compatibility</span>
                                </label>
                                <label class="flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-white/5 transition-colors">
                                    <input type="checkbox" id="include-forecast" class="cosmic-checkbox">
                                    <span class="text-sm">🌠 Year Forecast</span>
                                </label>
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2 text-gray-300">🎯 Special Focus Areas</label>
                            <textarea id="report-focus" placeholder="What cosmic guidance do you seek? (career, relationships, personal growth...)" class="cosmic-textarea"></textarea>
                        </div>
                        
                        <button type="submit" class="btn-constellation w-full text-lg flex items-center justify-center">
                            <span id="submit-text">Generate Cosmic Report</span>
                            <span id="loading-spinner" class="cosmic-loading ml-3 hidden"></span>
                            <i class="fas fa-stars ml-2" id="submit-icon"></i>
                        </button>
                    </form>
                </div>
                
                <!-- Report Results -->
                <div class="constellation-glass p-8">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-semibold flex items-center" style="font-family: var(--font-cosmic);">
                            <i class="fas fa-scroll mr-3 text-blue-400"></i>
                            Your Cosmic Report
                        </h2>
                        <div class="flex gap-2">
                            <button id="save-report" class="btn-success hidden">
                                <i class="fas fa-save mr-2"></i>Save
                            </button>
                            <button id="export-pdf" class="btn-success hidden">
                                <i class="fas fa-file-pdf mr-2"></i>PDF
                            </button>
                            <button id="export-email" class="btn-success hidden">
                                <i class="fas fa-envelope mr-2"></i>Email
                            </button>
                        </div>
                    </div>
                    
                    <div id="report-result" class="report-content">
                        <div class="text-center py-16">
                            <div class="text-6xl mb-6">🌌</div>
                            <h3 class="text-xl font-semibold mb-4 text-gray-300">Your Cosmic Journey Awaits</h3>
                            <p class="text-gray-400 mb-6">Fill out the form to generate your personalized constellation report.</p>
                            <div class="text-sm text-gray-500">Combining astrology, numerology, and cosmic wisdom.</div>
                        </div>
                    </div>
                    
                    <!-- Progress Bar -->
                    <div id="progress-container" class="hidden">
                        <div class="cosmic-progress">
                            <div id="progress-bar" class="cosmic-progress-bar" style="width: 0%"></div>
                        </div>
                        <p class="text-center text-sm text-gray-400" id="progress-text">Connecting to cosmic database...</p>
                    </div>
                </div>
            </div>
            
            <!-- Features Section -->
            <div id="features" class="cosmic-grid mt-16">
                <div class="constellation-glass p-6 text-center">
                    <div class="text-4xl mb-4">📊</div>
                    <h3 class="text-lg font-semibold mb-3">Deep Cosmic Analysis</h3>
                    <p class="text-gray-400 text-sm">Comprehensive insights combining multiple spiritual disciplines with authentic constellation wisdom.</p>
                </div>
                
                <div class="constellation-glass p-6 text-center">
                    <div class="text-4xl mb-4">💾</div>
                    <h3 class="text-lg font-semibold mb-3">Export & Save</h3>
                    <p class="text-gray-400 text-sm">Download as PDF, email directly, or save to your personal cosmic library for future reference.</p>
                </div>
                
                <div class="constellation-glass p-6 text-center">
                    <div class="text-4xl mb-4">📚</div>
                    <h3 class="text-lg font-semibold mb-3">Report History</h3>
                    <p class="text-gray-400 text-sm">Access previous reports and track your spiritual journey through the constellation of time.</p>
                </div>
                
                <div class="constellation-glass p-6 text-center">
                    <div class="text-4xl mb-4">💫</div>
                    <h3 class="text-lg font-semibold mb-3">Compatibility Insights</h3>
                    <p class="text-gray-400 text-sm">Generate relationship compatibility reports guided by the cosmic dance of celestial bodies.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        class CosmicReportGenerator {
            constructor() {
                this.currentReport = null;
                this.savedReports = JSON.parse(localStorage.getItem('cosmic-reports') || '[]');
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                this.addConstellationEffects();
            }
            
            setupEventListeners() {
                const form = document.getElementById('cosmic-report-form');
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.generateReport();
                });
                
                document.getElementById('save-report')?.addEventListener('click', () => this.saveReport());
                document.getElementById('export-pdf')?.addEventListener('click', () => this.exportToPDF());
                document.getElementById('export-email')?.addEventListener('click', () => this.emailReport());
            }
            
            addConstellationEffects() {
                // Add shooting star effect occasionally
                setInterval(() => {
                    if (Math.random() < 0.3) {
                        this.createShootingStar();
                    }
                }, 5000);
            }
            
            createShootingStar() {
                const star = document.createElement('div');
                star.style.cssText = `
                    position: fixed;
                    width: 2px;
                    height: 2px;
                    background: linear-gradient(45deg, #60a5fa, #8b5cf6);
                    border-radius: 50%;
                    box-shadow: 0 0 10px #60a5fa;
                    z-index: 1000;
                    pointer-events: none;
                    top: ${Math.random() * 50}%;
                    left: -10px;
                `;
                
                document.body.appendChild(star);
                
                star.animate([
                    { transform: 'translateX(-10px) translateY(0px)', opacity: 0 },
                    { transform: 'translateX(50px) translateY(-20px)', opacity: 1, offset: 0.1 },
                    { transform: 'translateX(100vw) translateY(-40px)', opacity: 0 }
                ], {
                    duration: 2000,
                    easing: 'ease-out'
                }).onfinish = () => star.remove();
            }
            
            async generateReport() {
                const formData = this.collectFormData();
                
                if (!this.validateForm(formData)) {
                    return;
                }
                
                this.showProgress(true);
                this.toggleSubmitButton(true);
                
                try {
                    await this.processReportGeneration(formData);
                    this.displayReport(formData);
                    this.showExportButtons();
                    this.showAlert('🌟 Your cosmic report has been generated successfully!', 'success');
                } catch (error) {
                    this.showAlert('❌ Error generating report. Please try again.', 'error');
                } finally {
                    this.showProgress(false);
                    this.toggleSubmitButton(false);
                }
            }
            
            collectFormData() {
                return {
                    name: document.getElementById('report-name').value,
                    birthDate: document.getElementById('report-birth-date').value,
                    birthTime: document.getElementById('report-birth-time').value,
                    birthPlace: document.getElementById('report-birth-place').value,
                    focus: document.getElementById('report-focus').value,
                    sections: {
                        astrology: document.getElementById('include-astrology').checked,
                        numerology: document.getElementById('include-numerology').checked,
                        compatibility: document.getElementById('include-compatibility').checked,
                        forecast: document.getElementById('include-forecast').checked
                    }
                };
            }
            
            validateForm(data) {
                if (!data.name || !data.birthDate || !data.birthPlace) {
                    this.showAlert('⚠️ Please fill in all required fields (Name, Birth Date, Birth Place).', 'error');
                    return false;
                }
                
                const sectionsSelected = Object.values(data.sections).some(selected => selected);
                if (!sectionsSelected) {
                    this.showAlert('⚠️ Please select at least one cosmic insight section.', 'error');
                    return false;
                }
                
                return true;
            }
            
            async processReportGeneration(data) {
                const steps = [
                    '🌟 Connecting to cosmic database...',
                    '🌙 Analyzing birth chart alignments...',
                    '🔮 Calculating numerological patterns...',
                    '⭐ Reading constellation messages...',
                    '✨ Synthesizing cosmic insights...',
                    '🌌 Finalizing your stellar report...'
                ];
                
                for (let i = 0; i < steps.length; i++) {
                    this.updateProgress((i + 1) * (100 / steps.length), steps[i]);
                    await new Promise(resolve => setTimeout(resolve, 800));
                }
            }
            
            displayReport(data) {
                const report = this.generateReportContent(data);
                document.getElementById('report-result').innerHTML = report;
                
                this.currentReport = {
                    ...data,
                    content: report,
                    generated: new Date().toISOString()
                };
            }
            
            generateReportContent(data) {
                let sectionsContent = '';
                
                if (data.sections.astrology) {
                    sectionsContent += `
                        <div class="constellation-glass p-6 mb-6">
                            <h4 class="text-lg font-semibold text-blue-400 mb-4 flex items-center">
                                ⭐ Astrological Constellation Analysis
                            </h4>
                            <div class="text-gray-300 space-y-3">
                                <p>Based on your birth date <strong>${data.birthDate}</strong> in <strong>${data.birthPlace}</strong>, your cosmic blueprint reveals profound celestial influences.</p>
                                <p><strong class="text-blue-400">Sun Sign Essence:</strong> Your core identity shines like the North Star, guiding your path through life's constellation of experiences.</p>
                                <p><strong class="text-purple-400">Moon Phase Wisdom:</strong> Your emotional nature flows like cosmic tides, influenced by the eternal dance of celestial bodies in the vast universe.</p>
                                <p><strong class="text-cyan-400">Planetary Alignments:</strong> The positions of planets at your birth create unique energy patterns that illuminate your journey through the cosmic web.</p>
                            </div>
                        </div>
                    `;
                }
                
                if (data.sections.numerology) {
                    sectionsContent += `
                        <div class="constellation-glass p-6 mb-6">
                            <h4 class="text-lg font-semibold text-purple-400 mb-4 flex items-center">
                                🔢 Numerological Cosmic Patterns
                            </h4>
                            <div class="text-gray-300 space-y-3">
                                <p>Your name <strong>${data.name}</strong> carries vibrational frequencies that resonate through the cosmos, revealing your soul's mathematical blueprint.</p>
                                <p><strong class="text-purple-400">Life Path Constellation:</strong> Your journey follows ancient numerical patterns written in the stars, guiding you toward your cosmic destiny.</p>
                                <p><strong class="text-blue-400">Destiny Matrix:</strong> The mathematical essence of your existence points toward achievements that will shine like beacons in your personal galaxy.</p>
                                <p><strong class="text-pink-400">Soul Frequency:</strong> Your inner vibration harmonizes with cosmic energies, attracting experiences aligned with your spiritual evolution.</p>
                            </div>
                        </div>
                    `;
                }
                
                if (data.sections.compatibility) {
                    sectionsContent += `
                        <div class="constellation-glass p-6 mb-6">
                            <h4 class="text-lg font-semibold text-pink-400 mb-4 flex items-center">
                                💕 Cosmic Relationship Harmonics
                            </h4>
                            <div class="text-gray-300 space-y-3">
                                <p>Your celestial signature creates unique compatibility patterns with others, forming constellations of connection across the universe of relationships.</p>
                                <p><strong class="text-pink-400">Soul Magnetism:</strong> Your cosmic energy attracts kindred spirits who share complementary frequencies in the great symphony of existence.</p>
                                <p><strong class="text-purple-400">Relationship Constellations:</strong> Your partnerships mirror the eternal dance of binary stars, creating beautiful cosmic choreography.</p>
                            </div>
                        </div>
                    `;
                }
                
                if (data.sections.forecast) {
                    sectionsContent += `
                        <div class="constellation-glass p-6 mb-6">
                            <h4 class="text-lg font-semibold text-green-400 mb-4 flex items-center">
                                🌠 Cosmic Forecast & Future Alignments
                            </h4>
                            <div class="text-gray-300 space-y-3">
                                <p>The cosmic tides are shifting in your favor, bringing new constellations of opportunity into your life's orbit during the coming cycles.</p>
                                <p><strong class="text-green-400">Stellar Opportunities:</strong> Watch for breakthrough moments when planetary alignments create windows of manifestation power.</p>
                                <p><strong class="text-blue-400">Cosmic Cycles:</strong> Your personal seasons align with universal rhythms, bringing growth phases and periods of cosmic integration.</p>
                            </div>
                        </div>
                    `;
                }
                
                return `
                    <div class="space-y-6">
                        <div class="constellation-glass p-6 bg-gradient-to-r from-blue-900/20 to-purple-900/20">
                            <div class="text-center mb-6">
                                <h3 class="text-2xl font-bold text-white mb-2" style="font-family: var(--font-cosmic);">
                                    🌌 Cosmic Report for ${data.name}
                                </h3>
                                <div class="text-sm text-gray-400 space-y-1">
                                    <p>📅 Generated: ${new Date().toLocaleDateString()}</p>
                                    <p>⭐ Birth: ${data.birthDate}${data.birthTime ? ' at ' + data.birthTime : ''}</p>
                                    <p>🌍 Location: ${data.birthPlace}</p>
                                    ${data.focus ? `<p>🎯 Focus: ${data.focus}</p>` : ''}
                                </div>
                            </div>
                        </div>
                        
                        ${sectionsContent}
                        
                        <div class="constellation-glass p-6 bg-gradient-to-br from-indigo-900/20 via-purple-900/20 to-pink-900/20">
                            <h4 class="text-lg font-semibold text-white mb-4 flex items-center">
                                ✨ Cosmic Integration & Next Steps
                            </h4>
                            <div class="text-gray-300 space-y-2">
                                <p class="font-medium text-blue-400 mb-3">Your Celestial Guidance:</p>
                                <ul class="space-y-2 text-sm">
                                    <li class="flex items-start"><span class="mr-2">🌟</span> Trust the cosmic timing of your life's unfolding journey</li>
                                    <li class="flex items-start"><span class="mr-2">🌙</span> Embrace your unique cosmic signature and let it shine</li>
                                    <li class="flex items-start"><span class="mr-2">⭐</span> Align your actions with the universal flow of energy</li>
                                    <li class="flex items-start"><span class="mr-2">🌌</span> Remember: you are both stardust and the one who dreams</li>
                                    <li class="flex items-start"><span class="mr-2">✨</span> Your constellation is unique in the infinite cosmos</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                `;
            }
            
            showProgress(show) {
                const container = document.getElementById('progress-container');
                const result = document.getElementById('report-result');
                
                if (show) {
                    container.classList.remove('hidden');
                    result.innerHTML = `
                        <div class="text-center py-16">
                            <div class="text-6xl mb-6 animate-pulse">🌌</div>
                            <h3 class="text-xl font-semibold mb-4 text-gray-300">Generating Your Cosmic Report</h3>
                            <p class="text-gray-400">The stars are aligning to create your personalized insights...</p>
                        </div>
                    `;
                } else {
                    container.classList.add('hidden');
                }
            }
            
            updateProgress(percent, text) {
                document.getElementById('progress-bar').style.width = `${percent}%`;
                document.getElementById('progress-text').textContent = text;
            }
            
            toggleSubmitButton(loading) {
                const submitText = document.getElementById('submit-text');
                const submitIcon = document.getElementById('submit-icon');
                const loadingSpinner = document.getElementById('loading-spinner');
                const button = document.querySelector('#cosmic-report-form button[type="submit"]');
                
                if (loading) {
                    submitText.textContent = 'Generating...';
                    submitIcon.classList.add('hidden');
                    loadingSpinner.classList.remove('hidden');
                    button.disabled = true;
                } else {
                    submitText.textContent = 'Generate Cosmic Report';
                    submitIcon.classList.remove('hidden');
                    loadingSpinner.classList.add('hidden');
                    button.disabled = false;
                }
            }
            
            showExportButtons() {
                ['save-report', 'export-pdf', 'export-email'].forEach(id => {
                    document.getElementById(id).classList.remove('hidden');
                });
            }
            
            saveReport() {
                if (!this.currentReport) return;
                
                this.savedReports.push(this.currentReport);
                localStorage.setItem('cosmic-reports', JSON.stringify(this.savedReports));
                
                this.showAlert('💾 Report saved to your cosmic library!', 'success');
            }
            
            exportToPDF() {
                if (!this.currentReport) return;
                
                const reportText = `COSMIC INSIGHTS REPORT\n\nName: ${this.currentReport.name}\nBirth Date: ${this.currentReport.birthDate}\nBirth Place: ${this.currentReport.birthPlace}\nGenerated: ${new Date().toLocaleDateString()}\n\nYour personalized cosmic insights have been generated based on your celestial blueprint. This report combines ancient wisdom with modern understanding to provide guidance for your spiritual journey.\n\nThe stars have aligned to bring you this cosmic message. Use these insights to navigate your path through life with greater awareness and purpose.`;
                
                const blob = new Blob([reportText], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `cosmic-report-${this.currentReport.name.replace(/\s+/g, '-').toLowerCase()}-${new Date().toISOString().split('T')[0]}.txt`;
                a.click();
                URL.revokeObjectURL(url);
                
                this.showAlert('📄 Report exported successfully!', 'success');
            }
            
            emailReport() {
                if (!this.currentReport) return;
                
                const subject = `🌟 Your Cosmic Insights Report - ${this.currentReport.name}`;
                const body = encodeURIComponent(`Greetings from the cosmos!\n\nYour personalized cosmic report has been generated.\n\nName: ${this.currentReport.name}\nGenerated: ${new Date().toLocaleDateString()}\n\nThis report contains your unique celestial insights based on your birth information. Use this cosmic wisdom to guide your spiritual journey.\n\nMay the stars light your path,\nCosmic Insights Team ✨`);
                
                window.open(`mailto:?subject=${subject}&body=${body}`);
            }
            
            showAlert(message, type) {
                const alertClass = type === 'success' ? 'alert-success' : 'alert-error';
                const icon = type === 'success' ? '✅' : '❌';
                
                const alert = document.createElement('div');
                alert.className = alertClass;
                alert.innerHTML = `${icon} ${message}`;
                
                const form = document.getElementById('cosmic-report-form');
                form.appendChild(alert);
                
                setTimeout(() => {
                    alert.remove();
                }, 5000);
            }
        }
        
        // Initialize Cosmic Report Generator
        document.addEventListener('DOMContentLoaded', () => {
            new CosmicReportGenerator();
        });
        
        // Add smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>